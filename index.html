<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guia PrÃ¡tico da RecepÃ§Ã£o</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            box-sizing: border-box;
            background-color: #f8fafc;
        }
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .step-card {
            transition: all 0.3s ease;
        }
        .step-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
        .sidebar {
            transform: translateX(-100%);
            transition: transform 0.3s ease-in-out;
        }
        .sidebar.open {
            transform: translateX(0);
        }
        .menu-item:hover {
            background-color: rgba(99, 102, 241, 0.1);
            transform: translateX(5px);
        }
        .submenu {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-in-out;
        }
        .submenu.open {
            max-height: 500px;
        }
        .rotate-90 {
            transform: rotate(90deg);
        }
        /* ESTILOS DO MODAL DE IMAGEM */
        .modal {
          display: none; position: fixed; z-index: 1000;
          padding-top: 50px; left: 0; top: 0; width: 100%; height: 100%;
          overflow: auto; background-color: rgba(0,0,0,0.9);
        }
        .modal-conteudo {
          margin: auto; display: block; width: auto;
          max-width: 90%; max-height: 85vh; cursor: zoom-in;
        }
        .modal-conteudo.zoomed {
            max-width: none; max-height: none; cursor: zoom-out;
        }
        .fechar-modal {
          position: absolute; top: 15px; right: 35px; color: #f1f1f1;
          font-size: 40px; font-weight: bold; transition: 0.3s; cursor: pointer;
        }
        .fechar-modal:hover { color: #bbb; }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-indigo-100 min-h-full font-sans">
    <button id="menuToggle" class="fixed top-4 left-4 z-50 bg-indigo-600 hover:bg-indigo-700 text-white p-3 rounded-lg shadow-lg transition-colors">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>

    <div id="sidebar" class="sidebar fixed top-0 left-0 w-80 h-full bg-white shadow-2xl z-40 overflow-y-auto">
        <div class="p-6">
            <div class="flex justify-between items-center mb-8">
                <h2 class="text-2xl font-bold text-indigo-800">ğŸ“‹ Menu</h2>
                <button id="closeSidebar" class="text-gray-500 hover:text-gray-700 text-3xl">&times;</button>
            </div>
            <div class="space-y-2">
                <div class="menu-item p-3 cursor-pointer rounded-lg" onclick="showGuide('atendimento')"><div class="flex items-center"><span class="text-2xl mr-3">ğŸ¯</span><span class="font-semibold text-blue-800">Atendimento</span></div></div>
                <div class="menu-item p-3 cursor-pointer rounded-lg" onclick="showGuide('matricula')"><div class="flex items-center"><span class="text-2xl mr-3">ğŸ“</span><span class="font-semibold text-green-700">MatrÃ­cula</span></div></div>
                <div class="menu-item p-3 cursor-pointer rounded-lg" onclick="showGuide('recebimento')"><div class="flex items-center"><span class="text-2xl mr-3">ğŸ“¦</span><span class="font-semibold text-orange-600">Recebimento de Materiais</span></div></div>
                <div class="menu-item p-3 cursor-pointer rounded-lg" onclick="showGuide('oficios')"><div class="flex items-center"><span class="text-2xl mr-3">ğŸ“‹</span><span class="font-semibold text-purple-600">OfÃ­cios</span></div></div>
                <div class="menu-item p-3 cursor-pointer rounded-lg" onclick="showGuide('email')"><div class="flex items-center"><span class="text-2xl mr-3">ğŸ“§</span><span class="font-semibold text-red-600">E-mail</span></div></div>
                
                <div class="menu-item rounded-lg">
                    <div class="flex items-center justify-between p-3 cursor-pointer" onclick="toggleSubmenu('fluxograma')">
                        <div class="flex items-center"><span class="text-2xl mr-3">ğŸ“Š</span><span class="font-semibold text-green-600">Fluxograma de Atividades</span></div>
                        <svg id="arrow-fluxograma" class="w-5 h-5 text-gray-500 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
                    </div>
                    <div id="submenu-fluxograma" class="submenu ml-6 space-y-1">
                        <div class="menu-item p-2 cursor-pointer rounded-lg" onclick="showGuide('atualizacao')"><div class="flex items-center"><span class="text-sm mr-2">ğŸ”„</span><span class="text-gray-600 text-sm">AtualizaÃ§Ã£o InÃ­cio de MÃªs</span></div></div>
                        <div class="menu-item p-2 cursor-pointer rounded-lg" onclick="showGuide('fechamento')"><div class="flex items-center"><span class="text-sm mr-2">âœ…</span><span class="text-gray-600 text-sm">Fechamento Mensal</span></div></div>
                        <div class="menu-item p-2 cursor-pointer rounded-lg" onclick="showGuide('videoaulas')"><div class="flex items-center"><span class="text-sm mr-2">ğŸ¥</span><span class="text-gray-600 text-sm">Videoaulas na Plataforma</span></div></div>
                        <div class="menu-item p-2 cursor-pointer rounded-lg" onclick="showGuide('az')"><div class="flex items-center"><span class="text-sm mr-2">ğŸ”¤</span><span class="text-gray-600 text-sm">A-Z</span></div></div>
                        <div class="menu-item p-2 cursor-pointer rounded-lg" onclick="showGuide('ativosinativos')"><div class="flex items-center"><span class="text-sm mr-2">ğŸ”„</span><span class="text-gray-600 text-sm">Ativos e Inativos</span></div></div>
                        <div class="menu-item p-2 cursor-pointer rounded-lg" onclick="showGuide('parceiros')"><div class="flex items-center"><span class="text-sm mr-2">ğŸ¤</span><span class="text-gray-600 text-sm">Parceiros</span></div></div>
                    </div>
                </div>

                <div class="menu-item rounded-lg">
                    <div class="flex items-center justify-between p-3 cursor-pointer" onclick="toggleSubmenu('estrategias')">
                        <div class="flex items-center"><span class="text-2xl mr-3">ğŸ¯</span><span class="font-semibold text-purple-800">EstratÃ©gias</span></div>
                        <svg id="arrow-estrategias" class="w-5 h-5 text-gray-500 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
                    </div>
                    <div id="submenu-estrategias" class="submenu ml-6 space-y-1">
                        <div class="menu-item p-2 cursor-pointer rounded-lg" onclick="showGuide('engajamento')"><div class="flex items-center"><span class="text-sm mr-2">ğŸš€</span><span class="text-gray-600 text-sm">EstratÃ©gia de Engajamento</span></div></div>
                        <div class="menu-item p-2 cursor-pointer rounded-lg" onclick="showGuide('boafoto')"><div class="flex items-center"><span class="text-sm mr-2">ğŸ“¸</span><span class="text-gray-600 text-sm">OrientaÃ§Ã£o de Boa Foto</span></div></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="overlay" class="fixed inset-0 bg-black bg-opacity-50 z-30 hidden" onclick="closeSidebar()"></div>

    <main class="ml-0 transition-all duration-300">
        <div class="text-right pr-4 pt-2">
            <p class="text-xs text-gray-400">Desenvolvido por Renan Vieira</p>
        </div>
        
        <header class="text-center py-12 px-4">
            <h1 class="text-4xl lg:text-5xl font-extrabold text-indigo-800 mb-4">ğŸ“‹ Guia PrÃ¡tico da RecepÃ§Ã£o</h1>
            <p class="text-lg text-gray-600">Seu parceiro diÃ¡rio para um atendimento de excelÃªncia.</p>
        </header>

        <div id="welcomeMessage" class="max-w-6xl mx-auto px-4 fade-in">
            <div class="bg-white rounded-xl shadow-lg p-8 text-center mb-8">
                <div class="text-6xl mb-6">ğŸ¤</div>
                <h2 class="text-3xl font-bold text-gray-800 mb-4">Bem-vindo(a) ao coraÃ§Ã£o do nosso atendimento!</h2>
                <div class="max-w-4xl mx-auto text-lg text-gray-700 leading-relaxed mb-6">
                    <p class="mb-4">A recepÃ§Ã£o Ã© o primeiro sorriso, a primeira ajuda, a primeira impressÃ£o. Ã‰ o ponto de partida para uma experiÃªncia positiva em nossa unidade.</p>
                    <p>Este guia foi criado para ser seu principal aliado, oferecendo clareza e confianÃ§a para que vocÃª possa desempenhar seu papel com excelÃªncia, seja no seu primeiro dia ou no seu milÃ©simo atendimento.</p>
                </div>
            </div>
            <div class="bg-white rounded-xl shadow-lg p-8 mb-8">
                <h3 class="text-2xl font-bold text-center text-gray-800 mb-8">O que vocÃª encontra aqui?</h3>
                <div class="grid md:grid-cols-3 gap-8">
                    <div class="text-center p-4"><div class="text-5xl mb-4">ğŸ”</div><h4 class="text-xl font-semibold text-gray-800 mb-3">Consulta RÃ¡pida</h4><p class="text-gray-600">Acesse o passo a passo de qualquer processo em segundos. Ideal para a correria do dia a dia.</p></div>
                    <div class="text-center p-4"><div class="text-5xl mb-4">ğŸŒ±</div><h4 class="text-xl font-semibold text-gray-800 mb-3">IntegraÃ§Ã£o e Treinamento</h4><p class="text-gray-600">Um guia completo para novos integrantes se sentirem seguros e bem preparados desde o inÃ­cio.</p></div>
                    <div class="text-center p-4"><div class="text-5xl mb-4">âœ…</div><h4 class="text-xl font-semibold text-gray-800 mb-3">PadronizaÃ§Ã£o e Qualidade</h4><p class="text-gray-600">Garanta um atendimento consistente e de alta qualidade, seguindo nossos padrÃµes e boas prÃ¡ticas.</p></div>
                </div>
            </div>
        </div>

        <div id="guideContent" class="hidden max-w-6xl mx-auto px-4 pb-8">
            <div class="bg-white rounded-xl shadow-lg p-8">
                <div class="flex justify-between items-center mb-6">
                    <h2 id="guideTitle" class="text-3xl font-bold text-gray-800"></h2>
                    <button onclick="backToHome()" class="bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg transition-colors">&larr; Voltar ao InÃ­cio</button>
                </div>
                <div id="guideSteps" class="space-y-6"></div>
            </div>
        </div>
    </main>

    <div id="meuModal" class="modal">
      <span class="fechar-modal" onclick="closeImageModal()">&times;</span>
      <img class="modal-conteudo" id="imgModal">
    </div>

    <script>
        const guides = {
            atendimento: {
                title: "ğŸ¯ Atendimento",
                description: "O atendimento Ã© o cartÃ£o de visitas da unidade. Um atendimento de qualidade, pautado pela eficiÃªncia, clareza e empatia, nÃ£o apenas resolve a necessidade imediata, mas tambÃ©m constrÃ³i uma imagem positiva da instituiÃ§Ã£o.",
                hasColumns: true,
                columns: [
                    {
                        title: "ğŸ‘¥ Atendimento Presencial",
                        steps: [
                            { title: "1. Primeiro Contato", content: "Cumprimente com um sorriso, mantenha contato visual e use um tom de voz agradÃ¡vel. Use frases como 'Bom dia! Como posso ajudÃ¡-lo?'.", tips: ["Seja cordial e profissional", "Demonstre interesse", "Mantenha postura ereta"] },
                            { title: "2. VerificaÃ§Ã£o e ResoluÃ§Ã£o", content: "Identifique o munÃ­cipe no sistema (se necessÃ¡rio) e ouÃ§a atentamente para entender a necessidade. OfereÃ§a soluÃ§Ãµes claras e, se nÃ£o souber a resposta, busque ajuda.", tips: ["Pratique a escuta ativa", "Seja transparente", "OfereÃ§a alternativas"] },
                            { title: "3. FinalizaÃ§Ã£o", content: "Certifique-se de que todas as dÃºvidas foram esclarecidas e as necessidades atendidas. AgradeÃ§a a visita e deseje um bom dia.", tips: ["Confirme a soluÃ§Ã£o", "AgradeÃ§a a visita", "Mantenha a porta aberta"] }
                        ]
                    },
                    {
                        title: "ğŸ’» Atendimento Online (Geral)",
                        steps: [
                            { title: "1. SaudaÃ§Ã£o Inicial", content: "Ao receber a mensagem, envie uma saudaÃ§Ã£o padronizada que identifique a instituiÃ§Ã£o e se coloque Ã  disposiÃ§Ã£o. Ex: 'OlÃ¡! Bem-vindo(a) ao CCPL. Como posso ajudar?'.", tips: ["Responda rapidamente", "Use a saudaÃ§Ã£o padrÃ£o", "Seja acolhedor"] },
                            { title: "2. Sondagem e OrientaÃ§Ã£o", content: "PeÃ§a os dados do munÃ­cipe se precisar consultar algo. FaÃ§a perguntas para entender a necessidade e forneÃ§a respostas claras e diretas, usando negrito para destacar informaÃ§Ãµes.", tips: ["Seja objetivo", "Use formataÃ§Ã£o para facilitar", "Seja transparente sobre prazos"] },
                            { title: "3. FinalizaÃ§Ã£o e ConfirmaÃ§Ã£o", content: "Antes de encerrar, pergunte se a dÃºvida foi resolvida. Ex: 'Consegui te ajudar?'. ApÃ³s a confirmaÃ§Ã£o, finalize com uma despedida cordial.", tips: ["Confirme a resoluÃ§Ã£o", "Finalize cordialmente", "Documente o atendimento se necessÃ¡rio"] }
                        ]
                    }
                ]
            },
            matricula: {
                title: "ğŸ“ MatrÃ­cula",
                description: "O processo de matrÃ­cula Ã© um indicador vital para a gestÃ£o da unidade. Os nÃºmeros de matrÃ­culas sÃ£o a base para anÃ¡lises que impactam diretamente nas decisÃµes de abertura ou fechamento de turmas.",
                hasColumns: true,
                columns: [
                    {
                        title: "ğŸ“ MatrÃ­cula Presencial",
                        steps: [
                            { title: "1. DocumentaÃ§Ã£o NecessÃ¡ria", content: "â€¢ RG/CPF do aluno (e responsÃ¡vel)<br>â€¢ Comprovante de residÃªncia (mÃ¡x. 3 meses)<br>â€¢ Foto 3x4<br>â€¢ Atestado mÃ©dico (para cursos de danÃ§a)", tips: ["Verifique a validade dos docs", "Confirme parentesco se necessÃ¡rio", "NÃ£o esqueÃ§a o atestado"] },
                            { title: "2. Cadastro no Sistema", content: "Acesse 'Adicionar Aluno', preencha todos os dados pessoais e a anamnese. Marque os documentos entregues e selecione os cursos de interesse.", tips: ["Preencha todos os campos", "Marque os documentos recebidos", "Confirme a unidade correta"] },
                            { title: "3. ImpressÃ£o e Assinatura", content: "Busque a ficha no sistema, imprima em modo frente e verso e entregue para o munÃ­cipe assinar, reforÃ§ando os termos de adesÃ£o.", tips: ["Imprima frente e verso", "Explique os termos ao munÃ­cipe", "Colete a assinatura"] }
                        ]
                    },
                    {
                        title: "ğŸ’¬ MatrÃ­cula Online (via WhatsApp)",
                        steps: [
                            { title: "1. Coleta de InformaÃ§Ãµes", content: "Solicite os documentos por foto/PDF e o preenchimento da anamnese (questionÃ¡rio enviado por texto).", tips: ["Reforce que as fotos devem ser nÃ­tidas", "Aceite documentos em PDF", "PeÃ§a o preenchimento completo"] },
                            { title: "2. ConferÃªncia e ConfirmaÃ§Ã£o", content: "Envie um resumo de todos os dados para o munÃ­cipe e peÃ§a para ele confirmar com um 'OK'. Esta Ã© a validaÃ§Ã£o do processo.", tips: ["Envie um resumo claro", "Solicite o 'OK' explÃ­cito", "NÃ£o aceite GIFs ou Ã¡udios"] },
                            { title: "3. ValidaÃ§Ã£o Interna", content: "Cadastre no sistema, imprima a ficha, os documentos e crie o 'Documento de ValidaÃ§Ã£o' anexando os prints da conversa (incluindo o 'OK').", tips: ["Use o modelo de validaÃ§Ã£o", "Anexe prints legÃ­veis da conversa", "Organize toda a papelada"] }
                        ]
                    }
                ]
            },
            recebimento: {
                title: "ğŸ“¦ Recebimento de Materiais",
                description: "Este processo Ã© fundamental para o controle de estoque e prestaÃ§Ã£o de contas. A atenÃ§Ã£o na conferÃªncia e formalizaÃ§Ã£o garante a transparÃªncia e a boa gestÃ£o dos recursos da unidade.",
                steps: [
                    { title: "ğŸ¥ª Kit Lanche", content: "Assine as 2 vias do romaneio, devolva a via superior ao entregador, escaneie a sua via e envie por e-mail para a coordenaÃ§Ã£o.", tips: ["Assine ambas as vias", "Digitalize o documento", "Envie para o e-mail correto"] },
                    { title: "ğŸ¥¬ HortifrÃºti", content: "Confira os materiais na cozinha junto ao entregador. Escaneie o romaneio assinado e envie por e-mail para a nutricionista.", tips: ["Sempre confira os itens", "Envie para a nutricionista", "Use a nomenclatura padrÃ£o"] },
                    { title: "ğŸ¥© AÃ§ougue", content: "Confira na cozinha, assine o documento, escaneie e envie para a nutricionista e para o financeiro.", tips: ["ConferÃªncia obrigatÃ³ria", "Envie para dois setores", "Arquive o documento fÃ­sico"] },
                    { title: "ğŸ’§ Ãgua e GÃ¡s", content: "Assine e carimbe o canhoto. Escaneie a via do CCPL e envie por e-mail para o financeiro.", tips: ["Carimbe o documento", "Guarde a via do CCPL", "Envie para o financeiro"] }
                ]
            },
            oficios: {
                title: "ğŸ“‹ OfÃ­cios (Reserva de Quadra)",
                description: "Regras: A reserva Ã© para maiores de 18 anos, por 1 hora. A distribuiÃ§Ã£o dos ofÃ­cios ocorre Ã s segundas-feiras, das 08h Ã s 10h.",
                steps: [
                    { title: "1. Preenchimento do Termo", content: "O interessado deve apresentar documento e preencher o 'Termo de Responsabilidade'.", tips: ["Verifique a identidade", "Confirme a maioridade", "Garanta o preenchimento completo"] },
                    { title: "2. Agendamento", content: "Verifique a disponibilidade e inclua o nome e horÃ¡rio no calendÃ¡rio do quadro de avisos.", tips: ["Consulte o calendÃ¡rio", "Atualize o quadro", "Confirme com o solicitante"] },
                    { title: "3. Arquivamento", content: "Guarde o termo na pasta '01. OFICIOS QUADRA' com a nomenclatura padrÃ£o: 'OFICIO QUADRA_[NOME]_[DATA]'.", tips: ["Use a nomenclatura correta", "Arquive na pasta certa", "Mantenha a organizaÃ§Ã£o"] }
                ]
            },
            email: {
                title: "ğŸ“§ E-mail",
                description: "O e-mail Ã© uma ferramenta de comunicaÃ§Ã£o formal. Manter uma escrita clara, objetiva e responder com agilidade demonstra profissionalismo e respeito.",
                steps: [
                    { title: "SolicitaÃ§Ã£o de PDA", content: "TÃ­tulo: 'SOLICITAÃ‡ÃƒO DE PDA: #COD. DO ALUNO_NOME DO ALUNO'. Enviar para o polo onde o aluno jÃ¡ tem cadastro.", tips: ["TÃ­tulo padronizado", "Inclua cÃ³digo e nome", "Verifique o polo de origem"] },
                    { title: "Acompanhamento PedagÃ³gico", content: "Enviar para `consultorflorida` e `coordenacaogeral`. TÃ­tulo: 'ACOMPANHAMENTO PEDAGÃ“GICO_CHECKLIST_[DATA]'.", tips: ["Envie para ambos os e-mails", "TÃ­tulo padronizado", "Anexe o checklist"] },
                    { title: "Controle de Atraso/Falta", content: "Enviar para os mesmos e-mails. TÃ­tulo: 'CONTROLE DE AUSÃŠNCIA OU ATRASO DOS PROFESSORES_[DATA]'.", tips: ["Mesmos destinatÃ¡rios", "Documente todas as ocorrÃªncias", "Seja objetivo no corpo do e-mail"] },
                    { title: "Devolutiva SAU", content: "Responder ao e-mail do SAU. TÃ­tulo: 'DEVOLUTIVA_SAU_[NOME DO MUNICIPE]_[DATA]'.", tips: ["Responda com agilidade", "Mantenha o padrÃ£o no tÃ­tulo", "Anexe evidÃªncias se necessÃ¡rio"] }
                ]
            },
            atualizacao: {
                title: "ğŸ”„ AtualizaÃ§Ã£o da Lista de PresenÃ§a (InÃ­cio de MÃªs)",
                description: "Processo para garantir que a lista de presenÃ§a do novo mÃªs esteja correta e atualizada.",
                flowchartImage: "imagens/fluxograma-atualizacao.png", // SUBSTITUA COM O CAMINHO CORRETO
                steps: [
                    { title: "1. InÃ­cio do Processo", content: "No primeiro dia Ãºtil do mÃªs, verifique se todos os dados do mÃªs anterior foram registrados no sistema.", tips: ["Comece no primeiro dia Ãºtil", "Verifique registros anteriores", "Prepare seu ambiente de trabalho"] },
                    { title: "2. Coleta de Dados", content: "Colete todas as informaÃ§Ãµes de presenÃ§a do mÃªs anterior. Verifique inconsistÃªncias, dados duplicados ou ausentes.", tips: ["Colete dados completos", "Identifique inconsistÃªncias", "Organize por turma"] },
                    { title: "3. ValidaÃ§Ã£o", content: "Valide as informaÃ§Ãµes com os coordenadores de cada Ã¡rea, confirmando alteraÃ§Ãµes de status e esclarecendo dÃºvidas.", tips: ["Valide com os coordenadores", "Confirme todas as alteraÃ§Ãµes", "EsclareÃ§a todas as dÃºvidas"] },
                    { title: "4. FinalizaÃ§Ã£o", content: "Gere um backup completo dos dados atualizados e prepare o sistema para o novo mÃªs.", tips: ["FaÃ§a backup completo", "Gere relatÃ³rio consolidado", "Prepare o sistema para o novo mÃªs"] }
                ]
            },
            // Adicione os outros guias aqui...
        };

        // --- LÃ“GICA DA INTERFACE ---
        const sidebar = document.getElementById('sidebar');
        const overlay = document.getElementById('overlay');
        const welcomeMessage = document.getElementById('welcomeMessage');
        const guideContent = document.getElementById('guideContent');
        let currentScrollPosition = 0;

        function openSidebar() {
            sidebar.classList.add('open');
            overlay.classList.remove('hidden');
        }

        function closeSidebar() {
            sidebar.classList.remove('open');
            overlay.classList.add('hidden');
            const allSubmenus = document.querySelectorAll('.submenu');
            const allArrows = document.querySelectorAll('[id^="arrow-"]');
            allSubmenus.forEach(submenu => submenu.classList.remove('open'));
            allArrows.forEach(arrow => arrow.classList.remove('rotate-90'));
        }

        function toggleSubmenu(submenuId) {
            document.getElementById(`submenu-${submenuId}`).classList.toggle('open');
            document.getElementById(`arrow-${submenuId}`).classList.toggle('rotate-90');
        }

        function showGuide(guideId) {
            const guide = guides[guideId];
            if (!guide) return;

            currentScrollPosition = window.pageYOffset;
            welcomeMessage.classList.add('hidden');
            guideContent.classList.remove('hidden');
            guideContent.classList.add('fade-in');
            closeSidebar();
            window.scrollTo({ top: 0, behavior: 'smooth' });

            document.getElementById('guideTitle').textContent = guide.title;
            const stepsContainer = document.getElementById('guideSteps');
            stepsContainer.innerHTML = '';

            if (guide.description) {
                const descDiv = document.createElement('div');
                descDiv.className = 'bg-blue-50 rounded-lg p-6 mb-6 border-l-4 border-blue-500';
                descDiv.innerHTML = `<p class="text-gray-700 leading-relaxed text-lg">${guide.description}</p>`;
                stepsContainer.appendChild(descDiv);
            }

            if (guide.hasColumns && guide.columns) {
                const columnsDiv = document.createElement('div');
                columnsDiv.className = 'grid md:grid-cols-2 gap-8';
                guide.columns.forEach(column => {
                    const columnDiv = document.createElement('div');
                    let stepsHtml = `<h3 class="text-2xl font-bold text-gray-800 mb-4 text-center">${column.title}</h3>`;
                    column.steps.forEach(step => {
                        stepsHtml += `
                            <div class="step-card bg-gray-50 rounded-lg p-6 border-l-4 border-indigo-500 mb-6">
                                <h4 class="text-lg font-semibold text-gray-800 mb-3">${step.title}</h4>
                                <div class="text-gray-700 mb-4 leading-relaxed">${step.content}</div>
                                <div class="bg-white rounded-lg p-4"><h5 class="font-semibold text-indigo-700 mb-2">ğŸ’¡ Dicas:</h5><ul class="list-disc list-inside space-y-1">${step.tips.map(tip => `<li class="text-gray-600">${tip}</li>`).join('')}</ul></div>
                            </div>`;
                    });
                    columnDiv.innerHTML = stepsHtml;
                    columnsDiv.appendChild(columnDiv);
                });
                stepsContainer.appendChild(columnsDiv);
            } else if (guide.steps) {
                guide.steps.forEach(step => {
                    const stepDiv = document.createElement('div');
                    stepDiv.className = 'step-card bg-gray-50 rounded-lg p-6 border-l-4 border-indigo-500';
                    stepDiv.innerHTML = `
                        <h3 class="text-xl font-semibold text-gray-800 mb-3">${step.title}</h3>
                        <div class="text-gray-700 mb-4 leading-relaxed">${step.content}</div>
                        <div class="bg-white rounded-lg p-4"><h4 class="font-semibold text-indigo-700 mb-2">ğŸ’¡ Dicas:</h4><ul class="list-disc list-inside space-y-1">${step.tips.map(tip => `<li class="text-gray-600">${tip}</li>`).join('')}</ul></div>`;
                    stepsContainer.appendChild(stepDiv);
                });
            }
            
            // LÃ³gica para o Fluxograma
            if (guide.flowchartUrl) { // Link para Canva
                 const flowchartDiv = document.createElement('div');
                 flowchartDiv.className = 'mt-8 bg-blue-50 rounded-xl p-6 border-2 border-blue-200 text-center';
                 flowchartDiv.innerHTML = `
                    <h3 class="text-2xl font-bold text-blue-800 mb-2">ğŸ“Š Fluxograma Visual do Processo</h3>
                    <p class="text-blue-600 mb-4">Acesse a apresentaÃ§Ã£o completa com mais detalhes e exemplos prÃ¡ticos</p>
                    <a href="${guide.flowchartUrl}" target="_blank" rel="noopener noreferrer" class="inline-flex items-center bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-colors">Abrir em Tela Cheia â†—</a>
                 `;
                 stepsContainer.appendChild(flowchartDiv);
            } else if (guide.flowchartImage) { // Imagem local com Modal
                const flowchartDiv = document.createElement('div');
                flowchartDiv.className = 'mt-8';
                flowchartDiv.innerHTML = `
                    <h3 class="text-2xl font-bold text-gray-800 mb-4">ğŸ“Š Fluxograma Visual do Processo</h3>
                    <p class="text-gray-600 mb-4">Clique na imagem para expandir e obter mais detalhes.</p>
                    <img src="${guide.flowchartImage}" alt="Fluxograma do processo ${guide.title}" class="border rounded-lg shadow-md cursor-pointer hover:shadow-xl transition-shadow" onclick="openImageModal(this.src)">
                `;
                stepsContainer.appendChild(flowchartDiv);
            }
        }

        function backToHome() {
            guideContent.classList.add('hidden');
            welcomeMessage.classList.remove('hidden');
            window.scrollTo({ top: currentScrollPosition, behavior: 'smooth' });
        }

        // FunÃ§Ãµes do Modal de Imagem
        const imageModal = document.getElementById("meuModal");
        const modalImg = document.getElementById("imgModal");
        
        function openImageModal(src) {
            imageModal.style.display = "block";
            modalImg.src = src;
        }
        
        function closeImageModal() {
            imageModal.style.display = "none";
            modalImg.classList.remove('zoomed');
        }

        modalImg.onclick = () => modalImg.classList.toggle('zoomed');

        // Event Listeners
        document.getElementById('menuToggle').addEventListener('click', openSidebar);
        document.getElementById('closeSidebar').addEventListener('click', closeSidebar);
        overlay.addEventListener('click', closeSidebar);
    </script>
</body>
</html>
