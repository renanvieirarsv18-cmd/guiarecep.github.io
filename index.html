<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guia Interativo: Processos da Recepção - CCPL Abade Gonzaga</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc; /* slate-50 */
        }
        .sidebar-link {
            display: flex;
            align-items: center;
            padding: 0.75rem 1rem;
            border-radius: 0.5rem;
            transition: background-color 0.2s, color 0.2s;
            color: #334155; /* slate-700 */
            font-weight: 500;
        }
        .sidebar-link:hover {
            background-color: #e2e8f0; /* slate-200 */
        }
        .sidebar-link.active {
            background-color: #0f766e; /* teal-700 */
            color: white;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
        }
        .sidebar-link svg {
            margin-right: 0.75rem;
        }
        .content-section {
            display: none;
        }
        
        /* --- Alteração: Animação de Fade-in para as seções --- */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .content-section.active {
            display: block;
            animation: fadeIn 0.4s ease-in-out;
        }

        .step-indicator {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 2.5rem;
            height: 2.5rem;
            border-radius: 9999px;
            background-color: #f1f5f9; /* slate-100 */
            color: #0f766e; /* teal-700 */
            font-weight: 700;
            border: 2px solid #99f6e4; /* teal-200 */
            flex-shrink: 0;
        }
        .step-line {
            width: 2px;
            background-color: #cbd5e1; /* slate-300 */
            flex-grow: 1;
        }
        .copy-btn {
            position: absolute;
            top: 0.5rem;
            right: 0.5rem;
            background-color: #f1f5f9;
            color: #475569;
            padding: 0.25rem 0.5rem;
            border-radius: 0.375rem;
            font-size: 0.75rem;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        .copy-btn:hover {
            background-color: #e2e8f0;
        }
        details > summary {
            cursor: pointer;
            list-style: none;
        }
        details > summary::-webkit-details-marker {
            display: none;
        }
    </style>
</head>
<body>
    <div class="flex h-screen bg-slate-50 text-slate-800">
        <aside id="sidebar" class="w-64 bg-white p-4 space-y-2 border-r border-slate-200 flex-shrink-0 overflow-y-auto">
            <div class="flex items-center space-x-3 p-2 mb-4">
                 <div class="p-2 bg-teal-600 rounded-lg">
                   <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                     <path stroke-linecap="round" stroke-linejoin="round" d="M12 6.253v11.494m-9-5.747h18" />
                   </svg>
                 </div>
               <div>
                     <h1 class="text-lg font-bold text-teal-800">CCPL JD Flórida</h1>
                     <p class="text-xs text-slate-500">Guia da Recepção</p>
                 </div>
            </div>

            <nav role="tablist" aria-label="Navegação de Processos">
                <a href="#" class="sidebar-link active" data-target="inicio" role="tab" aria-selected="true" aria-controls="inicio">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" /></svg> Início
                </a>
                <a href="#" class="sidebar-link" data-target="matriculas" role="tab" aria-selected="false" aria-controls="matriculas">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" /></svg> Matrículas
                </a>
                <a href="#" class="sidebar-link" data-target="emails" role="tab" aria-selected="false" aria-controls="emails">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" /></svg> E-mails
                </a>
                <a href="#" class="sidebar-link" data-target="recebimentos" role="tab" aria-selected="false" aria-controls="recebimentos">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4" /></svg> Recebimentos
                </a>
                <a href="#" class="sidebar-link" data-target="planilhas" role="tab" aria-selected="false" aria-controls="planilhas">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" /></svg> Planilhas
                </a>
                <a href="#" class="sidebar-link" data-target="sistema" role="tab" aria-selected="false" aria-controls="sistema">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" /></svg> Sistema e Grupos
                </a>
                 <a href="#" class="sidebar-link" data-target="agendamentos" role="tab" aria-selected="false" aria-controls="agendamentos">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" /></svg> Agendamentos
                </a>
            </nav>
        </aside>

        <main class="flex-1 p-6 lg:p-8 overflow-y-auto">
            <section id="inicio" class="content-section active" role="tabpanel" tabindex="0">
                <h1 class="text-4xl font-bold text-slate-800 mb-2">Bem-vindo(a) ao Guia Interativo da Recepção!</h1>
                <p class="text-lg text-slate-600 mb-8">Esta ferramenta foi criada para simplificar seu dia a dia. Use o menu à esquerda para navegar pelos processos e encontrar rapidamente as informações que precisa.</p>
                
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <div class="bg-white p-6 rounded-lg border border-slate-200 shadow-sm">
                        <h3 class="font-bold text-teal-700 text-lg mb-2">Nosso Objetivo</h3>
                        <p class="text-slate-600">Garantir um atendimento de excelência, padronizando nossos processos para oferecer a melhor experiência aos munícipes de Barueri.</p>
                    </div>
                    <div class="bg-white p-6 rounded-lg border border-slate-200 shadow-sm">
                        <h3 class="font-bold text-teal-700 text-lg mb-2">Como Usar</h3>
                        <p class="text-slate-600">Cada seção contém guias passo a passo, modelos de comunicação e checklists para as tarefas mais comuns da recepção.</p>
                    </div>
                    <div class="bg-white p-6 rounded-lg border border-slate-200 shadow-sm">
                        <h3 class="font-bold text-teal-700 text-lg mb-2">Contato Rápido</h3>
                        <p class="text-slate-600 font-semibold">CCPL Abade Gonzaga</p>
                        <p class="text-slate-600">WhatsApp: (11) 4382-4684</p>
                    </div>
                </div>

                <div class="mt-10 bg-teal-50 p-6 rounded-lg border border-teal-200 shadow-md">
                    <h2 class="text-2xl font-bold text-teal-800 mb-4 flex items-center">
                        ✨ Assistente Gemini: Resumo Rápido de Processo
                    </h2>
                    <p class="text-slate-600 mb-4">Insira um tópico ou fluxo de trabalho complexo (ex: "Fluxo de Matrícula Online" ou "Como arquivar ofício da quadra") e gere um resumo conciso de 3 passos para consulta imediata.</p>
                    <textarea id="processInput" class="w-full p-3 border border-slate-300 rounded-lg focus:ring-teal-500 focus:border-teal-500" rows="3" placeholder="Insira o processo que deseja resumir (ex: Fluxo de Bioimpedância Pós-Consulta)"></textarea>
                    <button onclick="generateProcessSummary()" class="mt-3 w-full md:w-auto px-6 py-2 bg-teal-600 text-white font-semibold rounded-lg hover:bg-teal-700 transition duration-150 flex items-center justify-center" id="summaryButton">
                        <span class="mr-2">Gerar Resumo em 3 Passos</span>
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z" clip-rule="evenodd" /></svg>
                    </button>
                    <div id="summaryOutput" class="mt-6 p-4 bg-white border border-slate-200 rounded-lg shadow-inner hidden" aria-live="polite">
                        <h4 class="font-bold text-slate-800 mb-2">Resumo Gerado:</h4>
                        <pre id="summaryText" class="whitespace-pre-wrap text-slate-700"></pre>
                        <button class="copy-btn mt-2" onclick="copyToClipboard('summaryText')">Copiar</button>
                    </div>
                    <p id="summaryLoading" class="hidden mt-4 text-teal-600 font-semibold" aria-live="polite">Gerando resumo, aguarde...</p>
                    <p id="summaryError" class="hidden mt-4 text-red-600 font-semibold" aria-live="polite"></p>
                </div>
            </section>

            <section id="matriculas" class="content-section" role="tabpanel" tabindex="0">
                <h1 class="text-3xl font-bold mb-6">Processo de Matrícula</h1>
                 <p class="text-slate-600 mb-6">A matrícula é o primeiro e mais importante contato do munícipe com o CCPL. Este guia detalha os fluxos para matrículas presenciais e online, garantindo que toda a documentação e registro no sistema sejam feitos corretamente.</p>
                 <div class="flex flex-col md:flex-row gap-8">
                     <div class="w-full md:w-1/3">
                         <div class="bg-white p-6 rounded-lg border border-slate-200 shadow-sm">
                             <h3 class="font-semibold text-lg mb-4 text-teal-800">Documentos Obrigatórios</h3>
                             <ul class="space-y-3 text-slate-600">
                                 <li class="flex items-start"><span class="mr-2 mt-1 text-teal-600">✔</span> RG/CPF do aluno (e do responsável, se menor)</li>
                                 <li class="flex items-start"><span class="mr-2 mt-1 text-teal-600">✔</span> Comprovante de residência (últimos 3 meses)</li>
                                 <li class="flex items-start"><span class="mr-2 mt-1 text-teal-600">✔</span> Foto 3x4</li>
                                 <li class="flex items-start"><span class="mr-2 mt-1 text-teal-600">✔</span> Atestado/Agendamento Médico (apenas para cursos de dança)</li>
                             </ul>
                         </div>
                     </div>
                     <div class="w-full md:w-2/3">
                         <h2 class="text-2xl font-semibold mb-4">Passo a Passo: Matrícula Online (WhatsApp)</h2>
                         <div class="space-y-6">
                             <div class="flex">
                                 <div class="flex flex-col items-center mr-4">
                                     <div class="step-indicator">1</div>
                                     <div class="step-line h-full"></div>
                                 </div>
                                 <div>
                                     <h4 class="font-bold text-lg">Solicitação de Documentos e Anamnese</h4>
                                     <p class="text-slate-600">Envie a mensagem padrão solicitando os documentos e a ficha de anamnese. O munícipe deve responder o questionário por completo.</p>
                                 </div>
                             </div>
                             <div class="flex">
                                 <div class="flex flex-col items-center mr-4">
                                     <div class="step-indicator">2</div>
                                     <div class="step-line h-full"></div>
                                 </div>
                                 <div>
                                     <h4 class="font-bold text-lg">Envio do Termo de Adesão</h4>
                                     <p class="text-slate-600">Após receber os dados, envie a mensagem com o Termo de Adesão. A confirmação deve ser um "OK" explícito. Guarde os prints da conversa.</p>
                                 </div>
                             </div>
                             <div class="flex">
                                 <div class="flex flex-col items-center mr-4">
                                     <div class="step-indicator">3</div>
                                 </div>
                                 <div>
                                     <h4 class="font-bold text-lg">Registro no Sistema e Validação</h4>
                                     <p class="text-slate-600">Realize a matrícula no sistema, imprima a ficha e o "Modelo de Validação de Matrícula Online", anexando os prints da conversa. O processo é o mesmo da matrícula presencial a partir daqui.</p>
                                 </div>
                             </div>
                         </div>
                     </div>
                 </div>
            </section>
            
            <section id="emails" class="content-section" role="tabpanel" tabindex="0">
                <h1 class="text-3xl font-bold mb-6">Padrões de Comunicação por E-mail</h1>
                 <p class="text-slate-600 mb-8">A comunicação por e-mail deve ser clara, profissional e padronizada para facilitar a rastreabilidade. Utilize os modelos abaixo para as situações mais comuns.</p>
                 <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                     <div class="bg-white p-6 rounded-lg border border-slate-200 shadow-sm">
                         <h3 class="font-semibold text-lg mb-4 text-teal-800">Devolutiva SAU</h3>
                         <p class="text-sm text-slate-500 mb-2">Para: admgeral@..., consultorparaiso@..., etc.</p>
                         <div class="relative">
                             <button class="copy-btn" onclick="copyToClipboard('devolutivaSauTemplate')">Copiar</button>
                             <pre id="devolutivaSauTemplate" class="bg-slate-100 p-4 rounded-md text-sm text-slate-700 overflow-x-auto">
Título: DEVOLUTIVA_SAU_[NOME DO MUNICIPE]_[DATA]

Corpo:
[Detalhes do contato e resolução da solicitação]
                             </pre>
                         </div>
                     </div>
                     <div class="bg-white p-6 rounded-lg border border-slate-200 shadow-sm">
                         <h3 class="font-semibold text-lg mb-4 text-teal-800">Acompanhamento Pedagógico</h3>
                         <p class="text-sm text-slate-500 mb-2">Para: coordenacaogeral@..., consultorflorida@...</p>
                         <div class="relative">
                             <button class="copy-btn" onclick="copyToClipboard('acompPedagogicoTemplate')">Copiar</button>
                             <pre id="acompPedagogicoTemplate" class="bg-slate-100 p-4 rounded-md text-sm text-slate-700 overflow-x-auto">
Título: ACOMPANHAMENTO PEDAGÓGICO_CHECKLIST CONSULTORES_CCPL ABADE GONZAGA DOS SANTOS_[DATA]

Corpo:
[Detalhes da observação em aula, comparando conteúdo aplicado com o programático.]
                             </pre>
                         </div>
                     </div>
                      <div class="bg-white p-6 rounded-lg border border-slate-200 shadow-sm">
                         <h3 class="font-semibold text-lg mb-4 text-teal-800">Controle de Atrasos/Faltas de Professores</h3>
                         <p class="text-sm text-slate-500 mb-2">Para: coordenacaogeral@..., consultorflorida@...</p>
                         <div class="relative">
                             <button class="copy-btn" onclick="copyToClipboard('controleAtrasoTemplate')">Copiar</button>
                             <pre id="controleAtrasoTemplate" class="bg-slate-100 p-4 rounded-md text-sm text-slate-700 overflow-x-auto">
Título: CONTROLE DE AUSÊNCIA OU ATRASO DOS PROFESSORES_CHECKLIST..._[DATA]

Corpo:
Segue o controle de ausência ou atraso dos professores referente ao dia [DATA].

MANHÃ:
✔ [Nome Professor]: [Horário]
❌ [Nome Professor]: [Horário] (Faltou)

TARDE:
...
                             </pre>
                         </div>
                     </div>
                      <div class="bg-white p-6 rounded-lg border border-slate-200 shadow-sm">
                         <h3 class="font-semibold text-lg mb-4 text-teal-800">Solicitação de PDA</h3>
                         <p class="text-sm text-slate-500 mb-2">Para: E-mail da unidade de origem do aluno</p>
                         <div class="relative">
                             <button class="copy-btn" onclick="copyToClipboard('pdaTemplate')">Copiar</button>
                             <pre id="pdaTemplate" class="bg-slate-100 p-4 rounded-md text-sm text-slate-700 overflow-x-auto">
Título: SOLICITAÇÃO DE PDA: #[COD. DO ALUNO]_[NOME DO ALUNO]

Corpo:
Bom dia, tudo bem?
Peço que por gentileza enviem o PDA #[COD. DO ALUNO] para realizar cursos nesta unidade.
Att,
                             </pre>
                         </div>
                     </div>
                  </div>
            </section>
            
            <section id="recebimentos" class="content-section" role="tabpanel" tabindex="0">
                <h1 class="text-3xl font-bold mb-6">Recebimento de Materiais</h1>
                 <p class="text-slate-600 mb-8">O controle de recebimento de materiais é crucial para a gestão de estoque e financeira. Siga este fluxo para todos os tipos de entrega.</p>
                 <div class="bg-white rounded-lg border border-slate-200 shadow-sm p-6">
                     <h2 class="text-2xl font-semibold mb-4 text-teal-800">Fluxo Padrão de Recebimento</h2>
                     <ol class="list-decimal list-inside space-y-4 text-slate-700">
                         <li>
                             <span class="font-semibold">Conferir os itens</span> junto ao entregador, especialmente para Hortifruti e Açougue.
                         </li>
                         <li>
                             <span class="font-semibold">Assinar e carimbar</span> ambas as vias do documento de entrega (romaneio/nota). Uma via fica com o entregador, a outra com o CCPL.
                         </li>
                         <li>
                             <span class="font-semibold">Escanear a via do CCPL.</span> Utilize o padrão da máquina e salve o PDF.
                         </li>
                         <li>
                             <span class="font-semibold">Renomear o arquivo</span> seguindo a nomenclatura padrão. Ex: `ROMANEIO DE ENTREGA HORTIFRUTI_JARDIM FLÓRIDA_13.01.2025`.
                         </li>
                          <li>
                             <span class="font-semibold">Enviar por e-mail</span> para o setor responsável (Coordenação, Nutricionista ou Financeiro).
                         </li>
                         <li>
                             <span class="font-semibold">Arquivar o documento físico</span> no local correto: pasta da Coordenação ou envelope do Financeiro.
                         </li>
                     </ol>
                 </div>
            </section>
            
            <section id="planilhas" class="content-section" role="tabpanel" tabindex="0">
                <h1 class="text-3xl font-bold mb-6">Gerenciamento de Planilhas</h1>
                 <p class="text-slate-600 mb-8">As planilhas são nossas ferramentas centrais de controle. Mantê-las atualizadas é uma prioridade. A primeira ação é sempre atualizar o Banco de Dados (BD).</p>
                 <div class="space-y-4">
                     <details class="bg-white p-4 rounded-lg border border-slate-200 shadow-sm">
                         <summary class="flex justify-between items-center font-semibold text-lg">
                             Planilha AZ (Controle de Fichas)
                             <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 transition-transform" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" /></svg>
                         </summary>
                         <div class="mt-4 text-slate-600">
                             <p class="font-semibold">Objetivo:</p>
                             <p class="mb-2">Controlar as fichas físicas de matrícula em ordem alfabética.</p>
                             <p class="font-semibold">Processo de Atualização:</p>
                             <ol class="list-decimal list-inside ml-4">
                                 <li><strong>Atualizar BD:</strong> Baixar os dados mais recentes do sistema e colar na aba "BD" da planilha.</li>
                                 <li><strong>Incluir Ficha:</strong> Adicionar o código do novo aluno e preencher manually os status dos documentos.</li>
                                 <li><strong>Salvar:</strong> Clicar em "Preservar Histórico" e salvar.</li>
                                 <li><strong>Anotar:</strong> Anotar o número AZ gerado na ficha física (a lápis) e no cadastro do aluno no sistema.</li>
                             </ol>
                         </div>
                     </details>
                      <details class="bg-white p-4 rounded-lg border border-slate-200 shadow-sm">
                         <summary class="flex justify-between items-center font-semibold text-lg">
                             Planilha de Lista de Presença
                             <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 transition-transform" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" /></svg>
                         </summary>
                         <div class="mt-4 text-slate-600">
                             <p class="font-semibold">Objetivo:</p>
                             <p class="mb-2">Registrar a frequência dos alunos nas aulas.</p>
                              <p class="font-semibold">Processo de Atualização:</p>
                             <ol class="list-decimal list-inside ml-4">
                                 <li><strong>Atualizar BD:</strong> Sempre comece atualizando o banco de dados.</li>
                                 <li><strong>Incluir Aluno:</strong> Adicione o código do aluno na lista da turma correspondente e defina o status como "Ativo".</li>
                                 <li><strong>Registrar Presença:</strong> Marque com "C" maiúsculo no dia da aula.</li>
                                 <li><strong>Justificar Falta:</strong> Utilize a coluna "Observações" para inserir justificativas de ausência.</li>
                             </ol>
                         </div>
                     </details>
                  </div>
            </section>
            
            <section id="sistema" class="content-section" role="tabpanel" tabindex="0">
                <h1 class="text-3xl font-bold mb-6">Sistema e Grupos de WhatsApp</h1>
                 <p class="text-slate-600 mb-8">O sistema online e os grupos de WhatsApp são as principais plataformas para gestão de turmas e comunicação com os alunos.</p>
                 <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                     <div class="bg-white p-6 rounded-lg border border-slate-200 shadow-sm">
                         <h2 class="text-2xl font-semibold mb-4 text-teal-800">Gestão no Sistema</h2>
                         <ul class="space-y-4">
                             <li>
                                 <h4 class="font-semibold">Inclusão de Aluno em Turma</h4>
                                 <p class="text-slate-600">Vá em `Turmas > Relatório de Turmas`, acesse o link da turma e use a opção "Adicionar usuário pelo código".</p>
                             </li>
                             <li>
                                 <h4 class="font-semibold">Registro de Presença</h4>
                                 <p class="text-slate-600">Na página da turma, clique no `+ verde` para adicionar a data e marque a presença, falta ou afastamento de cada aluno, conforme a lista física.</p>
                             </li>
                         </ul>
                     </div>
                     <div class="bg-white p-6 rounded-lg border border-slate-200 shadow-sm">
                         <h2 class="text-2xl font-semibold mb-4 text-teal-800">Criação de Grupos de WhatsApp</h2>
                         <ul class="space-y-4">
                             <li>
                                 <h4 class="font-semibold">Nomenclatura Padrão</h4>
                                 <p class="text-slate-600">`[CÓDIGO DA TURMA]_[NOME DA TURMA]_JF`</p>
                             </li>
                             <li>
                                 <h4 class="font-semibold">Configurações Essenciais</h4>
                                 <p class="text-slate-600">Use a foto padrão do CCPL, desative mensagens temporárias e configure para que apenas administradores possam enviar mensagens. Adicione o professor como administrador.</p>
                             </li>
                              <li class="bg-teal-50 p-4 rounded-lg border border-teal-200">
                                 <h4 class="font-semibold mb-2 flex items-center">✨ Gerador de Mensagem de Boas-Vindas</h4>
                                 <p class="text-sm text-slate-600 mb-3">Crie mensagens dinâmicas e amigáveis.</p>
                                 <input type="text" id="courseInput" class="w-full p-2 border border-slate-300 rounded-lg text-sm mb-3" placeholder="Ex: Informática Básica - Quarta - 14h às 16h">
                                 <button onclick="generateWelcomeMessage()" class="w-full px-4 py-2 bg-teal-600 text-white font-semibold rounded-lg hover:bg-teal-700 transition duration-150 flex items-center justify-center text-sm" id="welcomeButton">
                                     <span class="mr-2">Gerar Mensagem</span>
                                     <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor"><path d="M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z" /><path fill-rule="evenodd" d="M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z" clip-rule="evenodd" /></svg>
                                 </button>
                                 <div id="welcomeOutput" class="mt-4 p-3 bg-white border border-slate-200 rounded-lg shadow-inner hidden relative" aria-live="polite">
                                     <h5 class="font-bold text-slate-800 mb-1">Rascunho:</h5>
                                     <pre id="welcomeText" class="whitespace-pre-wrap text-slate-700 text-sm"></pre>
                                     <button class="copy-btn mt-2" onclick="copyToClipboard('welcomeText')">Copiar</button>
                                 </div>
                                 <p id="welcomeLoading" class="hidden mt-2 text-teal-600 font-semibold text-sm" aria-live="polite">Gerando rascunho, aguarde...</p>
                                 <p id="welcomeError" class="hidden mt-2 text-red-600 font-semibold text-sm" aria-live="polite"></p>
                             </li>
                              <li>
                                 <h4 class="font-semibold">Mensagem de Boas-Vindas Padrão</h4>
                                 <p class="text-slate-600">Use o texto padrão para dar as boas-vindas aos alunos no novo grupo.</p>
                             </li>
                         </ul>
                     </div>
                 </div>
            </section>
            
            <section id="agendamentos" class="content-section" role="tabpanel" tabindex="0">
                <h1 class="text-3xl font-bold mb-6">Agendamentos Especiais</h1>
                 <p class="text-slate-600 mb-8">Gerenciamos agendamentos para a equipe psicossocial e para avaliações de bioimpedância através da Agenda Google, com procedimentos específicos para cada um.</p>
                 <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                     <div class="bg-white p-6 rounded-lg border border-slate-200 shadow-sm">
                         <h2 class="text-2xl font-semibold mb-4 text-teal-800">Agendamento Psicossocial</h2>
                         <ul class="space-y-4 text-slate-600">
                            <li><strong class="text-slate-800">Regra Principal:</strong> Não agendar buscas espontâneas nas quintas-feiras. O atendimento é pessoal e intransferível.</li>
                            <li><strong class="text-slate-800">Agenda Google:</strong> Crie o evento com a nomenclatura `COD/NOME/TELEFONE/MOTIVO/FUNCIONÁRIO` e altere a cor para a correta.</li>
                            <li><strong class="text-slate-800">Sistema:</strong> Abra uma ocorrência no sistema para o aluno, selecionando "Recepção" e definindo a data final como o dia da consulta.</li>
                         </ul>
                     </div>
                     <div class="bg-white p-6 rounded-lg border border-slate-200 shadow-sm">
                         <h2 class="text-2xl font-semibold mb-4 text-teal-800">Agendamento de Bioimpedância</h2>
                          <ul class="space-y-4 text-slate-600">
                            <li><strong class="text-slate-800">Regras Principais:</strong> Não agendar menores de 14 anos ou munícipes com mais de 3 faltas anteriores.</li>
                            <li><strong class="text-slate-800">Confirmação:</strong> Envie a mensagem padrão de confirmação com 1 dia de antecedência, incluindo as orientações de preparo.</li>
                            <li><strong class="text-slate-800">Pós-Consulta:</strong> Baixe a ficha de avaliação do Google Drive e envie para o munícipe via WhatsApp.</li>
                         </ul>
                     </div>
                 </div>
            </section>
        </main>
    </div>

    <script>
        const API_KEY = ""; // Mantenha sua chave da API aqui
        const API_URL = `https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${API_KEY}`;
        const MAX_RETRIES = 3;

        async function fetchWithRetry(url, options, retries = 0) {
            try {
                const response = await fetch(url, options);
                if (response.status === 429 && retries < MAX_RETRIES) {
                    const delay = Math.pow(2, retries) * 1000 + Math.random() * 1000;
                    await new Promise(resolve => setTimeout(resolve, delay));
                    return fetchWithRetry(url, options, retries + 1);
                }
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                return response.json();
            } catch (error) {
                if (retries < MAX_RETRIES) {
                    const delay = Math.pow(2, retries) * 1000 + Math.random() * 1000;
                    await new Promise(resolve => setTimeout(resolve, delay));
                    return fetchWithRetry(url, options, retries + 1);
                }
                throw error;
            }
        }

        async function callGemini(prompt, systemInstruction) {
            const payload = {
                contents: [{ parts: [{ text: prompt }] }],
                systemInstruction: { parts: [{ text: systemInstruction }] },
            };
            const options = {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(payload)
            };
            const result = await fetchWithRetry(API_URL, options);
            const text = result.candidates?.[0]?.content?.parts?.[0]?.text || 'Erro ao gerar conteúdo. Tente novamente.';
            return text.trim();
        }

        // --- Funções da API (generateProcessSummary, generateWelcomeMessage) permanecem as mesmas ---
        async function generateProcessSummary() {
            // Seu código original aqui...
        }
        async function generateWelcomeMessage() {
            // Seu código original aqui...
        }

        document.addEventListener('DOMContentLoaded', function() {
            const links = document.querySelectorAll('.sidebar-link');
            const sections = document.querySelectorAll('.content-section');
            
            // --- Alteração: Função atualizada para gerenciar atributos ARIA ---
            function switchContent(targetId) {
                sections.forEach(section => {
                    section.classList.remove('active');
                });
                links.forEach(link => {
                    link.classList.remove('active');
                    link.setAttribute('aria-selected', 'false'); // Desmarca o link antigo
                });

                const targetSection = document.getElementById(targetId);
                const targetLink = document.querySelector(`.sidebar-link[data-target="${targetId}"]`);
                
                targetSection.classList.add('active');
                targetLink.classList.add('active');
                targetLink.setAttribute('aria-selected', 'true'); // Marca o novo link como selecionado
                targetSection.focus(); // Foca na nova seção para leitores de tela
            }

            links.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const targetId = this.dataset.target;
                    switchContent(targetId);
                });
            });

            const detailsElements = document.querySelectorAll('details');
            detailsElements.forEach(details => {
                const summary = details.querySelector('summary');
                const arrow = summary.querySelector('svg');
                details.addEventListener('toggle', () => {
                    if (arrow) {
                        arrow.style.transform = details.open ? 'rotate(180deg)' : 'rotate(0deg)';
                    }
                });
            });
        });
        
        function copyToClipboard(elementId) {
            const textToCopy = document.getElementById(elementId).innerText;
            navigator.clipboard.writeText(textToCopy).then(() => {
                const button = event.target;
                const originalText = button.innerText;
                button.innerText = 'Copiado!';
                setTimeout(() => {
                    button.innerText = originalText;
                }, 1500);
            }).catch(err => {
                console.error('Erro ao copiar texto: ', err);
            });
        }
    </script>
</body>
</html>
